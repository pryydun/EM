@using EM.WebApp.Components.Pages.ViewModel
<div class="card mt-4 shadow-sm">
    <div class="card-header bg-primary text-white">
        <h5>Add Your Review</h5>
    </div>
    <div class="card-body">
        <EditForm Model="ReviewModel" OnValidSubmit="HandleAddReview">
            <DataAnnotationsValidator />
            <ValidationSummary />

            <div class="form-group mb-3">
                <label for="rating" class="form-label"><strong>Rating (1-5):</strong></label>
                <InputNumber id="rating" @bind-Value="ReviewModel.Rating" min="1" max="5" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label for="comment" class="form-label"><strong>Comment:</strong></label>
                <InputTextArea id="comment" placeholder="Type your comment here..." @bind-Value="ReviewModel.Comment" rows="4" class="form-control" />
            </div>

            <button type="submit" class="btn btn-success">
                <i class="bi bi-check-circle"></i> Submit Review
            </button>
        </EditForm>
    </div>
</div>

@code {
    [Parameter]
    public ReviewViewModel? ReviewModel { get; set; }

    [Parameter]
    public EventCallback OnAddReview { get; set; }

    private async Task HandleAddReview()
    {
        if (OnAddReview.HasDelegate)
        {
            await OnAddReview.InvokeAsync();
        }
    }
}

